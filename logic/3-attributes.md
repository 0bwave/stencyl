Большинство игр очень динамичные; персонажи перемещаются, игроки нажимают кнопки и свойства, например счет и здоровье, изменяются. Многие из этих вещей, мы как разработчики, хотим отслеживать. Для таких случаев мы будем использовать значения под названием Attributes *(Атрибуты)*.

## Что Такое Атрибуты?

Атрибуты - **изменяемые значения**, которые используются в Поведениях Stencyl. Они позволяют Поведениям отслеживать динамические части игры и позволяют разработчикам настраивать Поведения без их непосредственного редактирования.

Каждый атрибут имеет как **значение**, так и связанный с ним **тип**. Например:

- Атрибут, который называется *Здоровье* может иметь значение 5 и тип *Number (Число)*.
- Атрибут, который называется *Цвет Рубашки* может иметь значение синий и тип *Color (Цвет)*.
- Атрибут, который называется *Имя Героя* может иметь значение Линк и тип *Text (Текст)*.

В общей сложности 16 различных типов атрибутов, которые описаны [здесь](docs/logic/attribute_types).

![](http://static.stencyl.com/pedia2/ch2/attributes/image05.png)

Две определяющие функции Атрибутов Поведения то, что они **изменяемые** и что они могут быть **настраиваемыми**.

### Изменяемые

Атрибуты Поведения не должны сохранять исходные значения, которые вы для них установили. *(Фактически, во многих случаях они вам не нужны.)*

Когда сначала создаете Атрибут, вы присваиваете ему значение по умолчанию. В зависимости от того, что происходит во время игры, вы захотите, чтобы значение изменялось.

Рассмотрим упомянутый выше Атрибут Здоровье. Не смотря на то, что Атрибут может начинать со значением 5, если персонаж получит урон, вы захотите уменьшить его.

### Настраиваемые

Создатели Поведения могут принять решение добавить Атрибуты, которые позволят им (или другим разработчика игры) настраивать эти значения в Редакторе Актера. Это - один способ сделать Поведения многоразовыми.

Например, рассмотрим Поведение под названием Прыжок, которое было разработано с учетом настроек. У него есть один Атрибут под названием ***Высота***, которая определяет, как высоко Тип Актера может прыгать.

После добавления этого Поведения Прыжка к Типу Актера разработчики могут настроить Поведение как им нужно, просто изменив значение ***Высоты*** в Редакторе Актера; нет никакой причины изменять само Поведение.

Вот два Типа Актеров с тем же присоединенным Поведением Прыжка.

- Генри-тыква имеет Поведение Прыжок с Атрибутом Высоты **установленным на 2**.
- Стики-человечек имеет этот же набор со **значением 1**.

Заметьте, что Генри **прыгает вдвое выше** чем Стики.

![](http://static.stencyl.com/pedia2/ch2/attributes/image07.png)

## Создание Атрибутов

Атрибуты создаются как часть Поведения Типа Актера или Сцены, используя кнопку *Add Attribute (Добавить Атрибут)* в Режиме Конструктора.

![](http://static.stencyl.com/pedia2/ch2/attributes/image15.png)

Давайте вернемся к вертикальной Shoot 'Em Up игре с которой мы работали в статье [Работа с Поведениями](docs/logic/creating_behavior). Мы добавили событие, которое создает лазерный луч и двигает лазер вверх, когда игрок нажимает на кнопку.

![](http://static.stencyl.com/pedia2/ch2/attributes/image02.png)

Вы заметите, что мы "закодировали" скорость лазера на 20. С этим есть две проблемы.

- Если мы в любое время захотим изменить это значение на какое-то другое, нам нужно будет отредактировать само Поведение.
- Значение будет одинаковым для любого Типа Актера к которому мы присоединим это Поведение.

Чтобы справиться с обеими этими проблемами, давайте создадим Атрибут скорости и будем использовать его вместо значения -20.

В открытом **Поведении Fire Laser** выберите вкладку Attributes ниже Палитры, а затем нажмите кнопку Add Attribute.

![](http://static.stencyl.com/pedia2/ch2/attributes/image12.png)

В появившемся диалоговом окне вы можете выбрать название, описание и тип Атрибута, а также представлен или нет Атрибут в редакторе Типа Актера (через флажок Hidden*(Скрыт)*). Мы добавим Атрибут с названием Speed *(Скорость)* и сделаем его настраиваемым в редакторе Типа Актера, оставив флажок снятым.

![](http://static.stencyl.com/pedia2/ch2/attributes/image01.png)

Нажмите кнопку *ОК*, чтобы создать атрибут.

Обратите внимание, что новый Атрибут отображается в списке Атрибутов. С выбранным атрибутом Speed прокрутите вниз содержимое панели General *(Общее)* и установите Default Value *(значение по умолчанию)* *-20* (то же значение, которое мы используем в настоящее время).

![](http://static.stencyl.com/pedia2/ch2/attributes/image11.png)

## Использование Атрибутов в Поведениях

Как только Атрибут был создан, Stencyl добавляет в Режим Конструктора блок, который мы можем использовать, чтобы получить или изменить значение Атрибута.

![](http://static.stencyl.com/pedia2/ch2/attributes/image16.png)

Давайте используем Атрибут скорости, который мы создали.

1) Вернитесь назад к Палитре и щелкните по категории Attributes *(Атрибуты)*. Заметьте, что Атрибут Speed *(Скорость)* появился ниже заголовка своего типа (т.е. Number *(Число)*).

  ![](http://static.stencyl.com/pedia2/ch2/attributes/image04.png)

2) Перетащите и вставьте блок Speed в *set y-speed to [-20] for [Last Created Actor]* блок.

  ![](http://static.stencyl.com/pedia2/ch2/attributes/image09.png)

3) Переместитесь к Типу Актера корабля, к которому мы уже присоединили это Поведение.

  <div class="note">
  **Примечание:** Если Тип Актера корабля уже был открыт, мы должны перезагрузить атрибуты поведения, потому что он может не показывать новые, которые мы только что добавили. Нажмите **Ctrl-R** (**Cmd-R** на Mac), чтобы сделать это.
  </div>

4) После выбора Поведения Fire Laser, с права появиться Атрибут со значением по умолчанию, которое мы вводили ранее.

  ![](http://static.stencyl.com/pedia2/ch2/attributes/image08.png)

## Скрытый vs. Видимый

Заметьте, что скорость лазерного луча теперь может быть установлена, без необходимость входить в Режим Конструктора и изменять Поведение. Мы называем этот **Атрибут видимым**, подразумевая, что Атрибут вставлен в Редактор Типов Актеров.

Атрибуты, которые мы не хотим изменять в Редакторе Типов Актеров, называются **скрытыми**.

Мы создаем видимые Атрибуты, не ставя флажок Hidden? при создании Атрибута.

![](http://static.stencyl.com/pedia2/ch2/attributes/image00.png)

Больше преимуществ здесь раскрывается, если мы хотим присоединить это же Поведение к другому Типу Актера – например, усиленный корабль. Мало того, что нам не нужно создавать логику снова и снова, а просто использовать то же Поведение, мы даже можем выбрать различную скорость (скажем, быстрее) лазерного луча для нового корабля.

Мы не всегда хотим, чтобы Атрибуты были настраиваемыми, например, когда мы отслеживаем счет игрока. Скрытые Атрибуты создаются, ставя флажок *Hidden?*, во время создания Атрибута.

## Атрибуты в Выпадающем Списке

Как мы видели в статье [Работа с Поведениями](docs/logic/creating_behavior), некоторые поля блоков - выпадающие, они позволяют выбирать из нескольких предопределенных вариантов. Атрибуты также можно использовать и здесь.

![](http://static.stencyl.com/pedia2/ch2/attributes/image17.png)

Давайте использовать этот метод при создании второго Атрибута для нашего Поведения *Fire Laser*.

1) Перейдите назад к Режиму Конструктора и выполнив похожие, как ранее, шаги, создайте второй Атрибут под названием Fire Button *(Кнопка Огня)* имеющий тип Control (Контроль). Вместо “жесткого кодирования” управления как раньше в блоке-обертке События, мы сделаем его с другим значением, которое пользователи смогут настроить из Редактора Типов Актеров.

![](http://static.stencyl.com/pedia2/ch2/attributes/image06.png)

2) Нажмите на выпадающий список Control внутри блока-оболочки События, а затем нажмите Choose Attribute *(Выбрать Атрибут)*. Выберите новый Атрибут, и нажмите кнопку ОК.

![](http://static.stencyl.com/pedia2/ch2/attributes/image14.png)

  <div class="note">
  <p>**Совет:** Альтернативно, мы можем просто перетащить блок Атрибута из Палитры непосредственно в выпадающее поле.
  <p>![](http://static.stencyl.com/pedia2/ch2/attributes/image13.png)
  </div>

3) Теперь мы можем настроить этот Атрибут из Редактора Типов Актеров, как мы делали прежде. (Не забудьте перезагрузить документ с помощью **Ctrl-R** или **Cmd-R**, если новый Атрибут не появится.)

  ![](http://static.stencyl.com/pedia2/ch2/attributes/image03.png)

## Итог

- Атрибуты - **изменяемые значения**, которые используются в Поведениях Stencyl. Они позволяют Поведениям отслеживать динамические части игры, а разработчикам настроить Поведения, не редактируя непосредственно их самих.
- У каждого Атрибута есть и **значение**, и связанный с ним **тип**.
- Две функций определяют Атрибуты Поведения - то, что они **изменяемые** и что они могут быть **настраиваемыми**.
- Нужно дать знать Stencyl, что мы добавили новый Атрибут к существующему Поведению. Во вкладке Behaviors Редактора Типов Актеров нажмите **Ctrl-R** (**Cmd-R** на Mac), чтобы сделать это.
- **Видимые Атрибуты** представлены в Редакторе Типов Актеров.
- Атрибуты, которые мы не хотим изменять из Редактора Типов Актеров, называются **скрытыми Атрибутами**.
- Атрибуты могут быть выбраны из меню выпадающего списка, или блоки атрибутов могут быть вставлены в выпадающие меню непосредственно из палитры.

## Задание: Смена Оружия

Как правило, избежать "закодированного" значения в Поведении, которое мы хотим использовать несколько раз - это хорошая идея.

Наше Поведение Fire Laser, по прежнему имеет "закодированное" значение указывающее, каким лазером оно будет стрелять. Что если мы хотим переключиться на другой лазер?

![](http://static.stencyl.com/pedia2/ch2/attributes/image10.png)

Создайте видимый Атрибут, который заменить Тип Актера лазерного луча, а затем выберите Тип Актера для него на странице Behaviors корабля.

Затем создайте новый Тип Актера для усиленного корабля. Присоедините к нему это Поведение, дав более крупные и быстрые лазеры!
