Что Такое Регионы?

Регионы - невидимые области Сцены, которые обнаруживают вход и выход Актеров.

Попросту говоря, мы используем регионы, если хотим знать, когда некоторые актеры достигают определенных частей сцены.

Изображение


В каких ситуациях полезны Регионы?
Вхождение в двери, трубы и другие средства перемещения
Создание области, которая все время излечивает игрока (Зона Исцеления)
Создание области, которая все время вредит игроку (Зона Лавы)
Встать на переключатель
И другое...

Пример: Вхождение в Дверь

Предположим, вы делаете приключенческую игру.

Ваш герой идет снаружи, и сталкивается с дверью в дом. Вы хотите запрограммировать свою игру так, чтобы, когда ваш герой подходил к двери, он оказывался в доме.

Как бы вы это сделали?
Изображение

Герой идет к двери. Теперь герой в доме.


Мы хотим, чтобы игра определила, что герой дошел до верхней части двери. Когда это произойдет, мы хотим, чтобы выполнился переход к сцене дома.

Регионы делать то, что мы хотим. Вот как (это происходит в нашем примере).

1) Поместите Регион, внутри Scene Designer (Дизайнер Сцен).

Изображение

1. Выберите Инструмент Регион; 2. Кликните и растяните расположение Региона.


2) Перейдите к странице Events (События). Добавьте событие “Specific Actor Enters Region” (Определенный Актер Вошел в Регион).

Изображение


Изображение


3) Заполните событие требуемыми значениями. В нашем случае, мы хотим обнаружить, когда наш Hero (Герой) ввойдет в регион Door (Дверь).

Изображение


4) Наконец, мы добавляем в блок scene switch (переключить сцены) (Scene > Game Flow) (Сцена > Ход Игры), чтобы сменить сцену.

Изображение


Вот и все! Демо игры в действии.

Создание Регионов

Регион можно создать одним из двух способов.

1) Вы можете поместить Регион прямо в Сцену, как мы сделали в демонстрационном примере выше.

Изображение

1. Выберите Инструмент Регион; 2. Кликните и растяните расположение Региона.


2) Вы можете создать регион на лету из Поведения или События. Блок находится в Scene > Regions (Сцена > Регионы).

Изображение


Если вы хотите обратиться к этому, недавно созданному, региону, используйте пункт Last Created Region (Последний Созданный Регион) каждый раз, когда вас просят Choose Region (Выбрать Регион).

Изображение


Обнаружение Входа, Выхода или Нахождения Актера в Регионе

Как только размещаете Регион, вы можете зафиксировать, когда Актер вводит или выходит из Региона, используя Событие.

Изображение


Или вы можете определить, находится ли актер в данном регионе прямо сейчас.

Изображение


Какая разница?

Событие = я входил в дом.
Внутри = В настоящее время вы в вашем доме?
Совет для устранения неисправностей: убедитесь, что для актера включены столкновения. Для работы, регионы полагаются на систему столкновений.


Типы Регионов

Регионы бывают 3-х разновидностей: Прямоугольник, Круг и Многоугольник.

Изображение


Используйте ту форму, которая лучше подходит для вашей игры. Обычно для Регионов хватает формы прямоугольника.
Совет: Удержите SHIFT при размещении прямоугольного региона, чтобы заставить его быть квадратным.


Перемещение Регионов

Вы можете переместить регион к определенным (x, y) координатам или создать регион “следующий” за актером, который изменяет местоположение вокруг центральной точки актера.

В обоих случаях операция происходит немедленно. Если вы хотите иметь регион, все время следующий за актером, нужно все время перемещать регион, используя любой из этих двух блоков.

Изображение


Различие в том, что блок “follow” (следовать) центрирует регион на центральной точке целевого Актера.

Пример: Огненный Барьер

Предположим, что в приключенческой игре, одно из специальных движений героя - это огненный барьер, с которым автоматически уничтожаются все враги, находящиеся в радиусе 100 пикселей от героя.

(Играть в Демо)

Это можно реализовать, создав прямоугольный регион, который все время следует за Героем. Когда актеры из группы Врагов вводят в этот регион, они уничтожаются.

Изображение


Изменение Размеров Регионов

Вы можете изменить размеры Прямоугольных или Круглых регионов на лету. Для изменения размеров использует верхний левый угол в качестве начала.

Изображение


Так как прямоугольники и круги определяются по-разному, вы должны использовать соответствующий блок, в зависимости от того, с каким регионом работаете.

Изображение


Если вам нужно сбросить размер региона и вернуться к первоначальному, используйте блок для изменения размера. Этот блок работает и на прямоугольные, и на круглые регионы.

Итог

Регионы сообщают нам, когда актеры достигают определенных частей сцены.
Вы можете определить вход, выходит или актер находится в регионе прямо сейчас.
Вы можете создавать регионы размещая их в сцене или из поведения.
Вы можете перемещать и изменять размер регионов.

Задача: Трубы!

Это мне, Марио! Одно из фирменных движений в игре Марио является возможность спускаться в трубы. Реализуйте эту классическую механику, используя Регионы.
