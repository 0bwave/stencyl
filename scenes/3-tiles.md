Каковы стандартные блоки сцены? Ландшафт или “земля” сцены обычно состоят из Тайлов. Похожие на плитку в вашей кухне или ванной, Тайлы в игре - участки земли одного размера, которые соответствуют сетке.

Эта статья расскажет о основах импорта и работы с тайлами.

Импорт Тайлсета

Шаг 1 - Создайте Его

Перейдите к этому пункту меню: File > Create New > Tileset (Файл > Создать Новый > Тайлсет)

Изображение


Шаг 2 - Назовите Его

Изображение


Шаг 3 - Импортируйте Тайл Лист

Теперь вы увидите это окно.

Изображение


1) Нажмите "Choose Image" (Выбрать Изображение), чтобы выбрать лист тайлов, который вы хотите импортировать. (Вы также можете скопировать его в буфер обмена, а затем вставить.)

2) Выберите Ширину/Высоту Мозаики. Это определит, как ваш лист тайлов будет разрезан. В большинстве случаев это 32x32 или 16x16.

3) Интервал и поля границы для случаев, когда ваши тайлы расположены раздельно с интервалами. Это бывает редко.


Вот и все! Нажмите Add (Добавить), чтобы закончить импорт.

Форма Границ Столкновений

Теперь, когда загрузили свой тайлсет, вы захотите установить формы границ столкновений для своих тайлов. Вы можете...

Выбрать существующую форму границ столкновений (или не выбирать вообще)
Создать пользовательскую форму границ столкновений.

Выбор формы прост - щелкните по любой ячейке на панели Collision Bounds (Границы Столкновений). Это работает даже, когда выбраны несколько тайлов (нажмите и перетащите, чтобы выбрать несколько тайлов в панели слева).

Изображение


Если вы предпочитаете сделать форму сами, щелкните кнопку +. Вы получите выбор между созданием коробки (прямоугольник) или выпуклый многоугольник.

Изображение

Изображение


Для того, чтобы узнать больше о формах границ столкновений тайлов и как определить пользовательские формы, у нас есть полный текст статьи:

Настройка Форм Границ Столкновений Тайлов

Анимация Тайлов

Некоторые игры используют для создания сцен Анимированные Тайлы. Вот, как вы можете преобразовываете простой тайл в анимированный.

1) Откройте Тайлсет.

2) Щелкните, на панели слева, по Тайлу, который вы хотели бы анимировать.

Изображение


3) Теперь вы увидите информацию в правой панели. Нижняя часть этой панели должна выглядеть знакомой. Она совпадает с той, с которой вы работаете для управления анимациями Актеров.

Изображение


От этого момента это - тот же процесс и пользовательский интерфейс, как и в работе с Анимациями Актеров. А именно:

Импортируйте кадры из ленты/листа изображений.
Отредактируйте продолжительности кадров, при необходимости.

Работа с Тайлсетом

Добавление/Удаление Строк и Столбцов
Вы можете изменить количество строк и столбцов тайлсета, щелкнув прямо по заголовкам столбца и строки.

Изображение

Добавить строку Ниже/Выше; Удалить строку; Дублировать строку


Добавить Больше Тайлов
Начиная с версии 3.2, вы можете добавить дополнительные тайлы к тайлсету после первоначального импорта.

Для получения наилучших результатов, мы рекомендуем использовать для импорта изображение такой же ширины, как и существующий тайлсет, так добавление не получит "смещение" и не повредит расположение. Например, если ваш тайлсет 6 колонок шириной, убедитесь, что вы импортируете также 6 колонок в ширину.

Реорганизация Тайлов
Начиная с версии 3.2, вы можете перетащить тайлы, чтобы изменить их расположение. Вот так.

1) С активным режимом Select Tiles (Выбор Тайлов) выберите тайл(ы), которую вы хотите переместить. В этом примере мы выбрали несколько тайлов в строке 1.

Изображение


2) Теперь, переключитесь на режим Move Tiles (Перемещение Тайлов).

Изображение


3) Перетащите и вставьте выбранные тайлы в нужное место. Будет выполнен обмен между тайлами, которые вы выбрали и тайлами в нужном месте. В этом примере мы переместили тайлы на 3 клетки от их исходной позиции.

Изображение


Работа с Несколькими Тайлами Одновременно
Вы можете выбрать несколько тайлов одновременно, щелкнув и расширив выделение на эти тайлы. Но зачем?

Это главное средство экономии времени, вы можете отредактировать несколько границ столкновений одновременно. Как описано выше, вы также можете переместить/перестроить несколько тайлов сразу.

Изображение


Изменение Листа Тайлов Напрямую
Начиная с версии 3.2, вы можете...

Редактировать основное изображение Тайлсета прямо во внешнем редакторе
Повторно импортировать изображение, при условии, что оно - того же размера, как существующее
Заменить изображения для выбранных тайлов

Это позволяет вам делать тонкие визуальные настройки тайлсета, без необходимости повторно все импортировать или вручную редактировать изображение из папки игры.

Метаданные Тайла
Начиная с версии 3.2, вы можете пометить Тайлы текстовыми данными, которые могут быть доступны во время игры. Например, тайл лавы может передать, что он смертелен при касании, или тайл исцеления в РПГ может исцелить персонажа, проходящего над ним.

Изображение


Чтобы получить доступ к этим данным из поведения, вы можете использовать один из двух методов.

1) Используйте блок data for tile (данные для тайла) из Scene > World > Tile API (Сцена > Мир > API Тайла).

Изображение


2) Используйте блок data for collided tile (данные для тайтла, с которым столкнулись) из Collision > Collision Points (Столкновения > Точки Столкновения).

Изображение


Мобильные Игры и Тайлсеты

Если вы работали с играми для мобильных устройств, то к этому времени знаете, что вся графика должна быть импортирована в более высоком разрешении, чтобы поддерживать более крупные разрешения дисплеев и планшеты.

Вы также знаете, что во всех других отношениях, создаете свою игру в "1x" разрешение. Мы просто на лету загружаем графику с высоким разрешением, если в игру играют на устройстве с более высоким разрешением. Вам не нужно знать деталей.
Какие последствия для тайлсетов?

1) Мы рекомендуем импортировать тайлсеты в 4x родном разрешение.
2) Определяйте Ширину, Высоту и другие параметры тайлов в 1x.

Например, если обычный размер тайлов вашей игры - 32 x 32, вы должны импортировать лист тайлов, где тайлы - 128 x 128 и отметить, что импортируете в 4x. Или вы можете решить импортировать в 64 x 64 и отметить, что импортируете в 2x.

Поиск и Устранение Неисправностей

1) Если это возможно, сохраняйте один размер тайлов для всех Тайлсетов и сцен. В последствии, это сохранит вам много нервов.

2) Когда определяете форму настраиваемого многоугольника границ столкновений для тайла, вы можете использовать только выпуклые многоугольники. Если вы должны сделать вогнутый многоугольник, вместо этого, разделите его на несколько выпуклых многоугольников.

3) В редких случаях, сцена в игре может сломаться, если ландшафт достаточно сложен, чтобы превысить внутренний предел нашего движка - нет никакого точного числа, но это прядка сотен, возможно тысячи сторон. Это происходит, потому что мы комбинируем все формы в большие, чтобы улучшить производительность.

Это можно обойти, чередуя ландшафт, чтобы разбить большую форму на два меньших ландшафта.

API Тайлов

Что, если вы хотите изменять ландшафт сцены во время игры? Например, вы делаете игру с автоматически сгенерированными темницами.

Для этого у нас есть специальный API Тайлов. С Stencyl 3.2 этот API официально встроен в набор блоков по умолчанию.

Итог

Тайлы - универсальные строительные блоки для сцен.
Вы можете настроить пользовательские формы границ столкновений для тайлов и анимировать их.
Тайлы автоматически объединяются Stencyl в большие ландшафты, чтобы улучшить производительность.
