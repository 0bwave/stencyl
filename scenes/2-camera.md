Прокрутка

Хотя некоторые игры существуют исключительно на одном экране, многие выходят за его рамки. Например, подумайте о игре, похожей на Super Mario Bros. Уровни выходят за рамки одного экрана.

Изображение


В играх как эти, когда игрок идет вправо, игра “прокручивается” вправо.

Изображение

Игрок движется под "?" блок.


Как эта “прокрутка” работает? Проще говоря, прокрутка - это действие, которое изменяет, какая часть сцены видна.

Изображение


Можно связать это с чем-то, с чем мы все знакомы - смотреть в видоискатель (или на экран) камеры, чтобы сделать фотографию.

“Камера” в нашем движке выполняет туже самую функцию - это “вещь”, которая управляет тем, какая часть сцены видна.
Примечание: Фактически “камера” - актер! Это - невидимый, не физический актер, но как и любой вид актера, у нее есть позиция, и она может быть перемещена.

Пример: Создание Камера Следующей за Актером

Во многих играх камера следует за игроком так, чтобы игрок всегда был на экране.




Это, оказывается, очень просто сделать, так как у нас есть блок “camera follow player” (камера, следуют за игроком), а также пред-установленное Поведение, которое вы можете присоединить к любой сцене, в которой это необходимо.

Изображение


Перемещение Камеры

Камера может быть перемещена двумя различными способами:

Установить камеру на (x, y) позицию.
Заставьте камеру следовать за Актером. Это установит позицию камеры в центральную точку Актера. В отличие от того, что предполагает название, это - одноразовое перемещение, которое должно использоваться все время, чтобы продолжать “следовать”.

Изображение

(Scene > View > Camera) (Сцена > Вид > Камера)


Один вопрос, который может у вас возникнуть: что, если я заставляю камеру выйти за пределы границ сцены? Оказывается, что камера заблокирована в этих границах и не выходит за их.

За Экраном Актеры Становятся Неактивными

Вы можете заметить, что актеры, которые выходят за экран, прекращают “симулироваться”, как будто они "заморозились" во времени. Мы делаем это, чтобы сохранить производительность.

Тем не менее, бывают случаи, когда вы хотите, чтобы актер был активен независимо от того, виден он на экране или нет.

Чтобы сделать актера всегда активным, используйте следующий блок.

Изображение

(Actor > Properties > Misc) (Актер > Свойства > Разное)


Итог

Прокруткой управляет камера.
Камера - специальный вид актера. Она имеет позицию и может быть перемещена.
За экраном актеры становятся неактивными. Используйте, блок “always simulate” (всегда симулируется), чтобы изменить это.

Задание 1: Авто-Прокрутка

В некоторых платформерах уровни могут прокручиваться автоматически. А игрок не имеет никакого контроля над камерой.




Как мы выполним этот эффект, учитывая, что вы управляете только настройкой позиции камеры?

Один из способов, сделать фиктивного актера, который управляет камерой (при условии, что камера все время следуют за этим актером).

Изображение


Управляя этим фиктивным актером, вы получаете полный контроль над камерой и с ним можете сделать больше, например перемещение его к месту назначения за период времени.

Изображение


Ваша задача: Создайте игру, которая реализует авто-прокрутку.

Как только вы создадите простое завершенное поведение авто-прокрутки, расширьте его так, чтобы, как только оно достигало своего первого места назначения, начиналась авто-прокрутка к следующему. Совместите это, чтобы работать с произвольным числом пунктов назначения.

После этого найдите способ препятствовать тому, чтобы игрок вышел за левую / правую сторону экрана. Если вы будете играть в какую-либо игру Марио, то заметите, что есть невидимая “стена”, которая продвигает вас вперед, не пытайтесь выйти за экран.

Задание 2: Основанная на Сетке Камера.

За прошедшие несколько лет Ретро игры пережили большой всплеск. Чтобы воссоздать ретро чувство этих игр, некоторые разработчики идут на многое, чтобы сохранить точное, “8-битное” ощущение от этих игр.

Ваша задача: Создать ощущение ретро-камеры, которая привязана к сетке сцены.

Вместо плавного, непрерывного движения, камера принимает только те позиции, которые кратны размеру тайлов. Создайте игру с такого рода движением камеры.
