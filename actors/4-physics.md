TODO *Замена ссылок, чтобы они вели на страницы **этого** сайта.*

## Что такое Box2D?

Stencyl включает физический движок высокого стандарта (Box2D) во все свои игры. Какие преимущества? Вы бесплатно получаете реалистичные и точные столкновения, а Актеры **ведут себя как реальные объекты.**

На сколько реально? Посмотрите следующее демо.

[![](http://static.stencyl.com/pedia2/ch3/ragdoll.png)](http://www.stencyl.com/game/play/10715)

<div class="note">
<p>**Примечание:** Остальная часть этой статьи рассказывает о деталях страницы Physics (Физика). Если вы просто просматриваете статьи или являетесь новичком, то, на данный момент, достаточно прочитать следующие разделы и пропустить другие. Они являются самыми важными!
<ul>
<li>Вкладка Основного
<li>Легковесные Актеры
<li>Глюки
</div>

## Вкладка General _(Основное)_

### What kind of Actor Type? *(Какой Тип Актера?)*

Определяет, может ли Актер перемещаться или нет.

- **Cannot Move** *(Не может Перемещаться)*: актер не может перемещаться или быть перемещенным, таким образом он становится неподвижным.
- **Cannot Be Pushed** *(Не может быть Подвинут)*: актер может перемещаться, но не может быть перемещен другим актером.
- **Normal** *(Нормальный)*: Актер может перемещаться самостоятельно и быть перемещенным другими Актерами.

<div class="note">
**Примечание:** "Не может быть Подвинут": актер не столкнется с тайлом. В Box2D это известно, как кинематическое тело. Умный способ имитации "не может быть подвинут" без его побочного эффекта - это задать очень высокую массу актеру.
</div>

### Can Rotate? *(Может вращаться?)*
Определяет, может ли ваш актер вращаться. Вращение происходит естественно через физику, установив скорость вращения, или круча его с некоторым усилием.

<div class="note">
**Примечание:** Независимо от значения этого параметра, все еще можно установить направление актера. Tweening (Твининг) также игнорирует этот параметр.
</div>

### Affected by Gravity? *(Подвержен гравитации?)*
Гравитация - постоянная сила, которая затрагивает все тела в сцене.

Гравитация может быть установлена в любом направлении и с любой величиной (силой) через страницу Физики Сцены. **Гравитация не всегда указывает вниз.**

Вы можете заставить Актера повиноваться или игнорировать силу тяжести.

<div class="note">
**Примечание:** Видимая "сила" гравитации зависит от массы Актера. Чем выше масса Актера, тем медленнее он упадает. Это **не** похоже на то, как работает сила тяжести в реальной жизни, но это простой способ приблизить Box2D к имитации реальной гравитации.
</div>

## Вкладка Heaviness *(Тяжесть)*

### Mass *(Масса)*

Сколько "весит" ваш актер. Чем "более тяжелым" вы делаете актера, тем тяжелее будет другим объектам переместить его.

<div class="note">
**Совет:** Установкой очень высокой массы можно примерно имитировать бесконечную массу / "Не может быть Подвинут", без побочных эффектов этого режима.
</div>

### Angular Mass *(Угловая Масса)*

Угловая масса определяет сопротивление актеров вращательным силам. По существу, чем выше число, тем медленнее будет вращаться актер, когда подвержен вращательным силам (кручению).

<div class="note">
**Примечание:** Угловая масса работает только, если Актер "Может Вращаться".
</div>

## Вкладка Material *(Материал)*

### Preset Materials *(Настроенные Материалы)*

Настроенные Материалы - это готовые параметры, которые используют различные комбинации Трения и Пружинистости, чтобы моделировать перечисленные материалы.

| Материал                     | Трение | Пружинистость |
|:-----------------------------|:------:|:-------------:|
| Wood _(Дерево)_              | 0.5    | 0.17          |
| Metal _(Метал)_              | 0.13   | 0.17          |
| Stone _(Камень)_             | 0.75   | 0.05          |
| Plastic _(Пластик)_          | 0.38   | 0.09          |
| Rubber _(Резина)_            | 0.75   | 0.95          |
| Dead Weight _(Мертвый Груз)_ | 1      | 0             |
| Super Ball _(Супер Мяч)_     | 1      | 0.95          |

### Friction *(Трение)*
Трение определяет "грубость" поверхности Актера. Высокое трение заставит Актера быстрее замедляться при скольжении. Низкий уровень трения или ноль заставит Актера дальше скользить или вообще никогда не остановиться.

В реальной жизни, поверхности с высоким трением - это грязь и наждачная бумага. Поверхности с низким коэффициентом трения - лед и стекло.

[![](http://static.stencyl.com/pedia2/ch3/physics/demo3.png)](http://static.stencyl.com/pedia2/ch3/physics/Friction.swf)

<div class="note">
**Примечание к Демо:** В этом демо, нажмите и отпустите влево / вправо. Заметьте, что один актер быстро перестает двигаться (большое трение), а другой продолжает двигаться, как будто он на льду.
</div>

### Bounciness *(Пружинистость)*
Установка пружинистости на значения 1,0 означает, что актер вернется к той же высоте, с которой упал, а значение 0.0 означает, что он совсем не будет отпрыгивать.

[![](http://static.stencyl.com/pedia2/ch3/physics/demo2.png)](http://static.stencyl.com/pedia2/ch3/physics/Bounciness.swf)

<div class="note">
**Примечание к Демо:** В этом демо, шары отскакивают по разному, в зависимости от их пружинистости. Один актер с пружинистостью рав 1 отскакивает обратно на ту же высоту.
</div>

### Как работают Трение / Пружинистость?
Значения Трения и Пружинистости двух сталкивающихся Актеров **умножаются**. Например, если у двух актеров трение 0.5, их трение друг для друга становится 0.25.

Например, это хорошо подходит для актеров, у которых трение/пружинистость 0 - как и следовало ожидать, это сводит всё на нет и вызывает в результате трение/пружинистость со значением 0.

У ландшафта/тайлов значения трение и пружинистость 1, таким образом, они не оказывают никакого эффекта на результат.

## Вкладка Damping *(Затухание)*

Затухание - трудная для представления тема. Это форма сопротивления против движения или вращения, которая варьируется в зависимости от того, как быстро Актер перемещается или вращается.

### Linear Damping *(Линейное затухание)*

Линейное Затухание похоже на ветер или **сопротивление воздуха.** Оно становится более сильным, когда ваш Актер быстро перемещается в точку, где Затухание так сильно, что Актер неспособен перемещаться немного быстрее. Это известно как Терминальная Скорость.

[![](http://static.stencyl.com/pedia2/ch3/physics/demo4.png)](http://static.stencyl.com/pedia2/ch3/physics/Damping.swf)

### Angular Damping *(Угловое Затухание)*

**Угловое Затухание - та же идея, только примененная к вращению.** Оно создает эффективное ограничение, как быстро может вращаться Актер и выравнивает эффект от кручения, если вы думаете, что ваш Актер вращается слишком быстро, когда подвергнут кручению (вращающийся момент).

## Вкладка Advanced *(Дополнительно)*

### Disable Physics *(Отключить Физику)*
Позволяет вам исключить Актера из общей физики. Мы поговорим об этом подробнее в следующем разделе.

<div class="note">
**Примечание:** Когда вы это сделаете, столкновения для этого Актера также перестанут функционировать.
</div>

### Auto-Scale Collision Bounds *(Авто-Масштаб Границы Столкновений)*

Выбор “Yes” в этой опции автоматически изменит размеры границ столкновений вашего Актера, когда вы измените размеры Актера, используя Tweening *(Твининг)* блок "scale to" *(масштаб до).* Выбор “No” означает, что границы столкновений останутся неизменными независимо от того, что происходит с Актером.

![](http://static.stencyl.com/pedia2/ch3/physics/image00.png)

[![](http://static.stencyl.com/pedia2/ch3/physics/demo1.png)](http://static.stencyl.com/pedia2/ch3/physics/Auto-Scale%20Collision%20Bounds.swf)

<div class="note">
**Примечание к Демо:** Заметьте, что у Актера справа, не меняется размер границы столкновений.
</div>

### Enable Continuous Collisions *(Включение Непрерывных Столкновений)*

Включите этот параметр, чтобы предотвратить прохождение этого актера, если он движется достаточно быстро, через тонкие препятствия, как показано ниже. Эта настройка полезна для маленьких и быстрых актеров, таких как пули, стрелы и другое оружие.

![](http://static.stencyl.com/help/images/ContCollisionDetect3.png)

Мы посвятили [целую статью](http://www.stencyl.com/help/view/continuous-collision-detection/)FIXME этому вопросу.

### Can be paused? *(Может быть приостановлен?)*

Эта настройка позволяет включать или исключать Актера из системы паузы.

Мы создали целую статью посвященную [Паузе](http://www.stencyl.com/help/view/pausing/)FIXME.

## Легкие Актеры

**Легкие Актеры - это Актеры, которые исключены из системы физики.**

Функция Легкие Актеры хорошо работает в играх, которые **включают много актеров** или требуют более точного движения и обнаружения столкновений, чем позволяет Box2D. Например...

- Shoot 'Em ups
- Puzzle Games
- Pixel Perfect Platformers (как N)
- Point and Click Adventures

Несмотря на то, что мы исследуем идею механизма, в котором физика может быть полностью отключена, функция Легкой физики позволяет вам **выборочно исключать актера из физики.** Даже в обычных играх, это может оказаться полезно для...

- Элементов Пользовательского Интерфейса
- Частиц
- HUDs

Примите во внимание, что, когда вы выключаете физику, актер **больше ни с чем не сталкивается,** его нельзя толкнуть и обычно он исключен из любых связанных с физикой функций. Настройка позиции и скорости все еще будут работать.

При правильной организации, работа с легкими актерами может стать экономным для игры выбором, но вы должны понимать его (текущие) ограничения.

## Глюки

### Застревание
Иногда, актер может застрять в углу коробки и будет неспособен дальше двигаться. В подобном сценарии, актер, который прыгает прямо рядом со стеной, а не на небольшом расстоянии от нее, обнаружит, что его прыжок короче.

![](http://static.stencyl.com/pedia2/ch3/physics/image02.png)  
*Прыжок ограничен углом*

Причины этого вполне технические, но обходных путей немного. Самое простое решение этой проблемы, сделать форму границ столкновений Актера похожими на...

- Круг.
- Квадрат со скругленными углами или что-то другое, чтобы избежать углов в 90 градусов. Мы сделали это для платформера про Mario, а еще эффективно использовать **восьмиугольник**  
  ![](http://static.stencyl.com/pedia2/ch3/physics/image01.png)

### Мои Актеры не сталкиваются!

Несколько веских причин этого.

- Эти два актера установлены в режим "Cannot Move" (Не может Перемещаться), "Cannot Be Pushed" (Не может быть Подвинут) или комбинация двух. Это просто способ, которым работает Box2D и может застать вас врасплох.
- Удостоверьтесь, что актеры не установлены как [Sensors](docs/actors/collisions_groups) _(Датчики)_
  ![](http://static.stencyl.com/pedia2/ch3/collisions/image13.png)
- Удостоверялись, что актеры из пары [Групп](docs/actors/collisions_groups), которые должны сталкиваться друг с другом?
  ![](http://static.stencyl.com/pedia2/ch3/collisions/image14.png)

## Итог

- Через Box2D Stencyl добавляет реалистическую физику ко всем играм.
- Исключите Актера из физики, чтобы улучшить производительность в играх с большим количеством актеров или без потребности в физике.
- Box2D мощен, но иногда он может представлять собой проблемы, когда вы хотите, чтобы ваша игра НЕ работала как реальный мир.

## Задание: Платформы!

**Создайте простую игру с движущимися платформами,** какие вы можете найти в любой игре Марио. Это гораздо интереснее, чем звучит по началу!

Какие соображения?

- Как защитить платформу от сдвига, когда что-то идет по ней?
- Как персонаж остается на платформе, наступив на нее?
- Если платформа движется вверх и вниз, что произойдет, если вниз она движется слишком быстро?
- Как вы будете двигать платформы? Установите позиции? Скорости? Силы?
- Как вы убедитесь, что платформа начинает и заканчивает движение на тех же позициях?

Начните с платформы, которая движется вверх и вниз. Затем попробуйте ту, которая движется влево и вправо.
