Актеры > Задание - Решение
==========================

DRAFT TODO _Оформить и отредактировать страницу. [Оригинал.](http://www.stencyl.com/help/viewArticle/157/)_

Это - решение Задания Третьей Главы. Мы проведем вас через каждый шаг.

> ACTION [Вернуться к Заданию](docs/actors/challenge)


Скачать Решение

- Разархивируйте и перенесите проект в свою папку Games, как "Chapter 3 Challenge Solution"

- Не знайте, где ваш папка Games? Нажмите кнопку "View Games Directory" внизу Welcome Center (первый экран после открытия Stencyl).

Изображение


Изображение


Содержание

Часть 1: Настройка Групп Столкновений
Часть 2: Создание Поведения Двухстороннего Движения
Часть 3: Сохранение Платформы на Экране
Часть 4: Создание Поведения Уничтожения Блоков
Часть 5: Создание Поведения Запуска Мяча
Часть 6: Повторение Актеров Мяча
Часть 7: Собираем Все Вместе

Часть 1: Настройка Групп Столкновений

1) Чтобы начать, нам нужна одна новая Collision Group (Группа Столкновений), для одного Мяча.

Изображение


2) Затем, мы должны добавить нашего Актера Платформы в правильную группу. Как вы думаете, в которую?

3) Должно быть легко установить в какую группу добавить нашего Актера Мяча.

4) Наконец, мы хотим гарантировать, что наш Актер Мяча сможет столкнуться с нашим Актером Платформы, потому мы настраиваем столкновения групп для каждого из них.

Часть 2: Создание Поведения Двухстороннего Движения

Давайте начнем с Поведения, которое используется для управления платформой.

1) Мы хотим, чтобы игрок перемещал платформу вправо или влево с заданной скоростью. Также мы хотим, чтобы движение прекращалось, когда игрок не нажимает никаких кнопок. Вы должны использовать блоки, которые управляют горизонтальной скорость Актера, и блоки, которые проверяют какие клавиши нажаты.

Вот снимок решения.

Изображение

Примечание: Мы используем серию блоков if (если) по другому, потому что такое исполнение повышает производительность. Когда игра видит if по другому, она оценивает только логику (Истинно/Ложно условие), а не весь блок кода целиком, таким образом уменьшая скорость, с которой она будет работать.


2) Нужно помнить одну вещь, что, когда игрок нажимает клавишу, чтобы двигать платформу влево, то ее х-скорость устанавливается в отрицательное значение Top Speed (Максимальной Скорости).

Изображение


Помните, когда вы перемещаете по экрану вниз, значение Y становится больше, а когда вы перемещаетесь вверх, значение становится меньше. Когда вы перемещаетесь вправо, значение X становятся больше, а когда вы перемещаетесь влево, это значение становится меньше.

3) Затем, последняя часть Поведения говорит игре, что делать, когда игрок не нажимает клавиш.

4) Атрибуты в Поведении нужны, чтобы упростить конфигурацию. Некоторые очевидные варианты - Top Speed (Максимальная Скорость) (мяча), Right Control (Управление Вправо) и Left Control (Управление Влево). На основе того, что они делают, вам нужно определить их типы.

Часть 3: Сохранение Платформы на Экране

Обычно, когда два актера сталкиваются, они толкают друг друга в противоположных направлениях. В нашей игре, платформа не должна двигаться, когда мяч сталкивается с ней. Для этого мы должны сделать две вещи. Во-первых, изменим, как наш Актер платформы реагирует, когда сталкивается с другими актерами.

1) Откройте Актера платформы, щелкните по вкладке Physics (Физика), затем во вкладке General (Основные), установите опцию What Kind of Actor Type? (Какой Тип Актера?) на Cannot be pushed (Не может быть продвинут). Теперь Актер не переместится, когда в него попадет мяч.

Изображение


2) Несмотря на то, что эта настройка препятствует мячу сбить платформу с экрана, наш Актер платформы все еще может пройти прямо через тайлы. Нам нужно Поведение, которое исправит это. Поведение должно проверить позицию Актера платформы, и если он вышел за определенные границы, оно переместит его обратно в нужные рамки.

Вот один скриншот того, как это будет происходить.

Изображение

Примечание: Это поведение "всегда" проверяет положение платформы по отношению к стенам сцены (в нашей игре, размер экрана равен размеру сцены). Если мы попытаемся, переместить Актера платформы за эти пределы, поведение отрегулирует положение актера.

На скриншотах ниже показано, как мы выяснили, координаты границ.

Изображение

Конец самого левого тайла = 0 + ширина тайла. Самая левая координата X = 0.


Координаты выше, это на сколько мы хотим, чтобы Актер перемещался влево.

Изображение

Конец правого тайла = Ширина Сцены - Ширина Тайла. Самая правая координата = Ширина Сцены (в данном случае).


Координаты выше, это на сколько мы хотим, чтобы Актер перемещался вправо.

Часть 4: Создание Поведения Уничтожения Блоков

Теперь, когда движение платформы под контролем, мы должны сказать нашей игре, что происходит с блоком, когда с ним сталкивается мяч.

1) Давайте пробежимся по тому, что мы изначально запланировали: Когда мяч попадает в блок, блок должен под светиться, издать звук, а затем исчезнуть.

2) Вы также хотите убедиться что, это происходит только тогда, когда мяч сталкивается с блоком.

Вот Поведение, которое может это реализовать.

Изображение

Примечание: единственное, что может стать для вас неожиданностью - это то, что звуковой эффект и разрушение блока происходят с задержкой. Нам нужна эта задержка, чтобы игрок увидел эффект изменения цвета в действии.

Часть 5: Создание Поведения Запуска Мяча

У нас есть платформа, которую игрок может перемещать, и блоки, которые разрушаются, но нам нужно Поведение, которое запустит мяч от платформы. Хотя мы могли бы сделать поведение, которое позволяет игроку запускать новые мячи так быстро, как он или она может нажимать на клавишу, и добавив небольшую задержку, которая удержит игрока от затыкивания клавиши.

1) Для начала, вам понадобятся блоки, которые создают нашего Актера Мяча, и те, которые приводят его в движение.

Вот снимок экрана Поведения, которое делает это.

Изображение

Примечание: Если быть честным, несмотря на то, как блок "when created" показан на изображении выше, фактически он находится в отдельном Событии Поведения.


2) Поведение позволяет игроку запускать новый мяч только один раз в секунду. Обратили внимание, стоит логическая проверка поведения Wait? (ждать?)? Кнопка Запуска Мяча запускает новый мяч только когда Wait? установлен на false (ложный).

3) Кроме того, чтобы улучшить производительность игры, мы используем Повторных Актеров. И при создании нашего Повторного Актера, важно создать его со смещенными, относительно позиции Актера платформы, координатами.

Часть 6: Повторение Актеров Мяча

Поскольку мы создаем Повторных Актеров, мы должны использовать другое Поведение под названием Recycle Self (Повторение Себя), чтобы повторять нашего Актера Мяча.

1) Это поведение включает в себя только два блока. Какое условие должно соблюдаться, когда мяч нужно повторить? Это должно дать вам подсказку, какие события использовать.

Вот скриншот решения.

Изображение

Примечание: Мы хотим повторить мяч, когда он окажется вне экранна, для этого мы используем Событие Актеров, которое проверяет, когда наш Актер Мяча покидает экран.

Часть 7: Собираем Все Вместе

Теперь у нас есть все игровые ассеты, в которых мы нуждаемся. Давайте все соединим.

1) Нашему Типу Актера платформы нужны 3 поведения. Какие 3, из сделанных нами, ему нужны?

2) Нашему Типу Актера Мяча нужно только одно Поведение. И еще одно для Блока.

3) Протестируйте нашу игру!

Изображение

Примечание: Если что-то работает не правильно, начните с Групп Столкновений. Удостоверьтесь, что каждый Тип Актера принадлежит корректной Группе. Дальше, просмотрите Поведения и сравните те, которые вы сделали сами, с теми, что на скриншотах. Наконец, удостоверьтесь, что у каждого Типа Актера есть правильное Поведение(я).

Итог

Теперь, когда вы больше узнали об Актерах и о том, как они могут использовать Поведения, давайте пойдем дальше к Главе 4 и поговорим о Сценах.
